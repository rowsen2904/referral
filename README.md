# üì± –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –Ω–æ–º–µ—Ä—É –∏ –∏–Ω–≤–∞–π—Ç-—Å–∏—Å—Ç–µ–º–∞

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ 4-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥, –≤—ã–¥–∞—á—É JWT-—Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å–∏—Å—Ç–µ–º—É –∏–Ω–≤–∞–π—Ç–æ–≤ (—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤).

---

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- Python 3.10+
- Django 4.x
- Django REST Framework
- Simple JWT
- SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Docker

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone https://github.com/rowsen2904/https://github.com/rowsen2904/referral
cd referral

python -m venv venv
source venv/bin/activate

pip install -r requirements.txt

python manage.py migrate
python manage.py runserver
```

# üì± –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –Ω–æ–º–µ—Ä—É –∏ –∏–Ω–≤–∞–π—Ç-—Å–∏—Å—Ç–µ–º–∞

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –≤—Ö–æ–¥ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º 4-–∑–Ω–∞—á–Ω—ã–º –∫–æ–¥–æ–º, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–Ω–≤–∞–π—Ç-–∫–æ–¥–∞, –µ–≥–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –Ω–æ–º–µ—Ä—É

### üì§ POST `request-code/`

–û—Ç–ø—Ä–∞–≤–∫–∞ 4-–∑–Ω–∞—á–Ω–æ–≥–æ –∫–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–∫–æ–¥ —ç–º—É–ª–∏—Ä—É–µ—Ç—Å—è: –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ, –∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "phone_number": "+79001234567"
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "message": "Code sent"
}
```

---

### ‚úÖ POST `verify-code/`

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ 4-–∑–Ω–∞—á–Ω–æ–≥–æ –∫–æ–¥–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–æ–≤.  
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —ç—Ç–∏–º –Ω–æ–º–µ—Ä–æ–º –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –æ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∏ –µ–º—É –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏–Ω–≤–∞–π—Ç-–∫–æ–¥.

---

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "phone_number": "+79001234567",
  "code": "1234"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**

```json
{
  "access": "<jwt-access-token>",
  "refresh": "<jwt-refresh-token>"
}
```

---

**–û—à–∏–±–∫–∏:**

```json
{
  "error": "Invalid code"
}
```

–∏–ª–∏

```json
{
  "error": "Code not found or expired"
}
```

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:

```http

Authorization: Bearer <access_token>
```


### üë§ GET `/profile/`

–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  
–û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞,
- —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω–≤–∞–π—Ç-–∫–æ–¥,
- –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —á—É–∂–æ–π –∏–Ω–≤–∞–π—Ç-–∫–æ–¥ (–µ—Å–ª–∏ –µ—Å—Ç—å),
- —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≤–≤–µ–ª–∏ –≤–∞—à –∏–Ω–≤–∞–π—Ç-–∫–æ–¥.

---

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**

```http
Authorization: Bearer <access_token>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "phone_number": "+79001234567",
  "invite_code": "A1B2C3",
  "activated_invite_code": "Z9X8Y7",
  "referrals": [
    "+79009998877",
    "+79001112233"
  ]
}
```

---

### ‚úÖ POST `/profile/activate-invite/`

–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —á—É–∂–æ–π –∏–Ω–≤–∞–π—Ç-–∫–æ–¥ (—Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑).  
–ù–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥.

**–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**  
–î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer <access_token>`

---

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "code": "Z9X8Y7"
}
```